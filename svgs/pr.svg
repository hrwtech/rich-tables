<svg width="1767.1999999999998" height="5048" viewBox="0 0 1767.1999999999998 5048"
     xmlns="http://www.w3.org/2000/svg">
    <style>
        @font-face {
            font-family: "Rich Fira Code";
            src: local("FiraCode-Regular"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Regular.woff2") format("woff2"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Regular.woff") format("woff");
            font-style: normal;
            font-weight: 400;
        }
        @font-face {
            font-family: "Rich Fira Code";
            src: local("FiraCode-Bold"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Bold.woff2") format("woff2"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Bold.woff") format("woff");
            font-style: bold;
            font-weight: 700;
        }
        .rich-svg-64957161-terminal-wrapper span {
            display: inline-block;
            white-space: pre;
            vertical-align: top;
            font-size: 18px;
            font-family:'Rich Fira Code','Cascadia Code',Monaco,Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;
        }
        .rich-svg-64957161-terminal-wrapper a {
            text-decoration: none;
            color: inherit;
        }
        .rich-svg-64957161-terminal-body .blink {
           animation: rich-svg-64957161-blinker 1s infinite;
        }
        @keyframes rich-svg-64957161-blinker {
            from { opacity: 1.0; }
            50% { opacity: 0.3; }
            to { opacity: 1.0; }
        }
        .rich-svg-64957161-terminal-wrapper {
            padding: 140px;
            padding-top: 100px;
        }
        .rich-svg-64957161-terminal {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #0c0c0c;
            border-radius: 14px;
            box-shadow: 0 0 0 1px #484848;
        }
        .rich-svg-64957161-terminal:after {
            position: absolute;
            width: 100%;
            height: 100%;
            content: '';
            border-radius: 14px;
            background: rgb(71,77,102);
            background: linear-gradient(90deg, #804D69 0%, #4E4B89 100%);
            transform: rotate(-4.5deg);
            z-index: -1;
        }
        .rich-svg-64957161-terminal-header {
            position: relative;
            width: 100%;
            background-color: #2e2e2e;
            margin-bottom: 12px;
            font-weight: bold;
            border-radius: 14px 14px 0 0;
            color: #f2f2f2;
            font-size: 18px;
            box-shadow: inset 0px -1px 0px 0px #4e4e4e,
                        inset 0px -4px 8px 0px #1a1a1a;
        }
        .rich-svg-64957161-terminal-title-tab {
            display: inline-block;
            margin-top: 14px;
            margin-left: 124px;
            font-family: sans-serif;
            padding: 14px 28px;
            border-radius: 6px 6px 0 0;
            background-color: #0c0c0c;
            box-shadow: inset 0px 1px 0px 0px #4e4e4e,
                        0px -4px 4px 0px #1e1e1e,
                        inset 1px 0px 0px 0px #4e4e4e,
                        inset -1px 0px 0px 0px #4e4e4e;
        }
        .rich-svg-64957161-terminal-traffic-lights {
            position: absolute;
            top: 24px;
            left: 20px;
        }
        .rich-svg-64957161-terminal-body {
            line-height: 22px;
            padding: 14px;
        }
        .rich-svg-64957161-terminal-body .r1 {color: #f2f2f2; text-decoration-color: #f2f2f2;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r2 {color: #23d18b; text-decoration-color: #23d18b;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r3 {font-weight: bold;color: #f2f2f2; text-decoration-color: #f2f2f2;;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r4 {color: #e5e5e5; text-decoration-color: #e5e5e5;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r5 {color: #212733; text-decoration-color: #212733;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r6 {color: #787878; text-decoration-color: #787878;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r7 {color: #e5e5e5; text-decoration-color: #e5e5e5; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r8 {color: #407948; text-decoration-color: #407948; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r9 {color: #cd3131; text-decoration-color: #cd3131; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r10 {color: #e5e5e5; text-decoration-color: #e5e5e5; font-weight: bold; text-decoration: underline;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r11 {color: #a7cd81; text-decoration-color: #a7cd81;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r12 {color: #a7cd81; text-decoration-color: #a7cd81; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r13 {color: #ff557f; text-decoration-color: #ff557f; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r14 {color: #0dbc79; text-decoration-color: #0dbc79; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r15 {color: #499dac; text-decoration-color: #499dac; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r16 {color: #9464a5; text-decoration-color: #9464a5; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r17 {color: #ffd787; text-decoration-color: #ffd787; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r18 {color: #8e6ebc; text-decoration-color: #8e6ebc; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r19 {color: #787878; text-decoration-color: #787878; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r20 {color: #e5e5e5; text-decoration-color: #e5e5e5; background-color: #212733}
.rich-svg-64957161-terminal-body .r21 {color: #7f7f7f; text-decoration-color: #7f7f7f;color: #f2f2f2; text-decoration-color: #f2f2f2;;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r22 {color: #7f7f7f; text-decoration-color: #7f7f7f; font-weight: bold;color: #f2f2f2; text-decoration-color: #f2f2f2;;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r23 {color: #ffd787; text-decoration-color: #ffd787;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r24 {color: #53a4b2; text-decoration-color: #53a4b2; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r25 {color: #9b9c50; text-decoration-color: #9b9c50; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r26 {color: #e5e5e5; text-decoration-color: #e5e5e5; font-style: italic;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r27 {color: #bc3fbc; text-decoration-color: #bc3fbc; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r28 {color: #5bc4bf; text-decoration-color: #5bc4bf; background-color: #0c0c0c; font-weight: bold}
.rich-svg-64957161-terminal-body .r29 {color: #212733; text-decoration-color: #212733; background-color: #0c0c0c}
.rich-svg-64957161-terminal-body .r30 {color: #e7e9db; text-decoration-color: #e7e9db; background-color: #0c0c0c}
.rich-svg-64957161-terminal-body .r31 {color: #48b685; text-decoration-color: #48b685; background-color: #0c0c0c}
.rich-svg-64957161-terminal-body .r32 {color: #ff557f; text-decoration-color: #ff557f;background-color: #0c0c0c;}
.rich-svg-64957161-terminal-body .r33 {color: #e5e5e5; text-decoration-color: #e5e5e5; background-color: #272822}
.rich-svg-64957161-terminal-body .r34 {color: #ef6155; text-decoration-color: #ef6155; background-color: #0c0c0c}
    </style>
    <foreignObject x="0" y="0" width="100%" height="100%">
        <body xmlns="http://www.w3.org/1999/xhtml">
            <div class="rich-svg-64957161-terminal-wrapper">
                <div class="rich-svg-64957161-terminal">
                    <div class="rich-svg-64957161-terminal-header">
                        <svg class="rich-svg-64957161-terminal-traffic-lights" width="90" height="21" viewBox="0 0 90 21" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="14" cy="8" r="8" fill="#ff6159"/>
                            <circle cx="38" cy="8" r="8" fill="#ffbd2e"/>
                            <circle cx="62" cy="8" r="8" fill="#28c941"/>
                        </svg>
                        <div class="rich-svg-64957161-terminal-title-tab">Rich</div>
                    </div>
                    <div class="rich-svg-64957161-terminal-body">
                        <div><span class="r1"></span><span class="r1">                                                                                                                            </span></div>
<div><span class="r2">─────────────────────────────────── </span><span class="r3">Database parental directories creation if not exist</span><span class="r2"> ────────────────────────────────────</span></div>
<div><span class="r4">                                                      </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">╭─────────────────────────────────────────────────────────────────╮</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">author</span><span class="r4">         </span><span class="r5">┃</span><span class="r4"> </span><span class="r8">alicezou</span><span class="r4">                         </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">createdAt</span><span class="r4">      </span><span class="r5">│</span><span class="r4"> </span><span class="r9">-4d</span><span class="r4">                              </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                           </span><span class="r10">Description</span><span class="r4">                           </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">diff</span><span class="r4">           </span><span class="r5">│</span><span class="r4"> </span><span class="r11">+</span><span class="r12">53</span><span class="r4"> </span><span class="r13">-2</span><span class="r4">                           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">isReadByViewer</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r14">True</span><span class="r4">                             </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> Add prompt for users to select whether to create parental       </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">participants</span><span class="r4">   </span><span class="r5">│</span><span class="r4"> </span><span class="r8">alicezou</span><span class="r4">  </span><span class="r15">sampsyo</span><span class="r4">  </span><span class="r16">wisp3rwind</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> directories when they do not exist.                             </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">repository</span><span class="r4">     </span><span class="r5">│</span><span class="r4"> beets                            </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">reviewDecision</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r17">CHANGES_REQUESTED</span><span class="r4">                </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">state</span><span class="r4">          </span><span class="r5">│</span><span class="r4"> </span><span class="r18">MERGED</span><span class="r4">                           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                              </span><span class="r10">To Do</span><span class="r4">                              </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">updatedAt</span><span class="r4">      </span><span class="r5">│</span><span class="r4"> </span><span class="r14">6d</span><span class="r4">                               </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">╭─ </span><span class="r19">files</span><span class="r6"> ──────────────────────────────╮</span><span class="r4">           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17"> • </span><span class="r4">[x] Documentation. (If you&#x27;ve add a new command-line flag,   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">  </span><span class="r14">-12</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> </span><span class="r9">   </span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> </span><span class="r7">beets/ui/__init__.py</span><span class="r4">  </span><span class="r6">│</span><span class="r4">           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17">   </span><span class="r4">for example, find the appropriate page under </span><span class="r20">docs/</span><span class="r4"> to        </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">   </span><span class="r14">-2</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r9">   </span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r7">docs/changelog.rst</span><span class="r4">    </span><span class="r6">│</span><span class="r4">           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17">   </span><span class="r4">describe it.)                                                </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">   </span><span class="r14">-1</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r9">   </span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r7">test/test_dbcore.py</span><span class="r4">   </span><span class="r6">│</span><span class="r4">           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17"> • </span><span class="r4">[x] Changelog. (Add an entry to </span><span class="r20">docs/changelog.rst</span><span class="r4"> near the  </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">  </span><span class="r14">-38</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r9"> </span><span class="r9">-2</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r7">test/test_ui_init.py</span><span class="r4">  </span><span class="r6">│</span><span class="r4">           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17">   </span><span class="r4">top of the document.)                                        </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">╰──────────────────────────────────────╯</span><span class="r4">           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17"> • </span><span class="r4">[x] Tests. (Encouraged but not strictly required.) [still    </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                      </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r17">   </span><span class="r4">working on it]                                               </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                      </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">╰─────────────────────────────────────────────────────────────────╯</span><span class="r4"> </span></div>
<div><span class="r21">╭─ </span><span class="r22">Reviews &amp; Comments</span><span class="r21"> ─────────────────────────────────────────────────────────────────────────────────────────────────────╮</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">╭─ </span><span class="r17">CHANGES_REQUESTED </span><span class="r16">wisp3rwind</span><span class="r17"> </span><span class="r9">-2d</span><span class="r23"> ────────────────────╮</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> ╭─ </span><span class="r7"> </span><span class="r8">alicezou</span><span class="r7"> </span><span class="r9">-1d</span><span class="r4"> ────────────────────────────────────────╮ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> Hi, thanks for  getting this started! I&#x27;ve left a few </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> │ Hi Benedikt, Thank you for your review! I have updated │ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> inline comments on how I think the design of this PR  </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> │ my commits.                                            │ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> might be improved.                                    </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> ╰─ </span><span class="r24">comment</span><span class="r4"> ──────────────────────────────────────────────╯ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">╰─ </span><span class="r25">review</span><span class="r23"> ──────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">╭─ </span><span class="r17">COMMENTED </span><span class="r15">sampsyo</span><span class="r17"> </span><span class="r9">-1d</span><span class="r23"> ───────────────────────────────╮</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> ╭─ </span><span class="r7"> </span><span class="r8">alicezou</span><span class="r7"> </span><span class="r9">-1d</span><span class="r4"> ────────────────────────────────────────╮ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> Looking great!! Here are a few granular suggestions.  </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> │ Hi Adrian, Thank you for the feedback! I have updated  │ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4">                                                       </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> │ the related files.                                     │ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> I actually think it would be fine (and a bit simpler) </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> ╰─ </span><span class="r24">comment</span><span class="r4"> ──────────────────────────────────────────────╯ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> to keep the prompt code directly in the </span><span class="r20">beets.ui</span><span class="r4">      </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> module (i.e., </span><span class="r20">ui/__init__.py</span><span class="r4">) rather than having a    </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> short function in the </span><span class="r20">beets.ui.commands</span><span class="r4"> module. The   </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> latter module is centered around providing            </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> implementations for the </span><span class="r20">beet &lt;foo&gt;</span><span class="r4"> subcommands, and   </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> this functionality is actually a global thing that is </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> not associated with any particular subcommand—so it   </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> would be a bit simpler to just keep everything in the </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> new </span><span class="r20">_check_db_directory_exists</span><span class="r4"> function.              </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4">                                                       </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> I also just wanted to state for the record that this  </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> issue will </span><span class="r26">probably</span><span class="r4"> only affect people who have       </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> changed the </span><span class="r20">library</span><span class="r4"> configuration option… beets       </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> automatically creates </span><span class="r20">~/.config/beets</span><span class="r4"> by default and  </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> puts </span><span class="r20">library.db</span><span class="r4"> in there. But custom database         </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> locations would not enjoy this automation (until      </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> now).                                                 </span><span class="r23">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">╰─ </span><span class="r25">review</span><span class="r23"> ──────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> ╭─ </span><span class="r7"> </span><span class="r8">alicezou</span><span class="r7"> </span><span class="r14">5d</span><span class="r4"> ────────────────────────────────────────╮ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">╭─ </span><span class="r17">CHANGES_REQUESTED </span><span class="r15">sampsyo</span><span class="r17"> </span><span class="r14">6d</span><span class="r23"> ─────────────────────────╮</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ Hi, It&#x27;s been a week since my last update. Are there  │ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">│</span><span class="r4"> Looking good!! I have just a few very small comments,  </span><span class="r23">│</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ any changes that I can make to improve this pull      │ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">│</span><span class="r4"> but then I think this should be good to go.            </span><span class="r23">│</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ request? I am looking forward to hearing from you. :) │ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">╰─ </span><span class="r25">review</span><span class="r23"> ───────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ @wisp3rwind @sampsyo                                  │ </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> ╰─ </span><span class="r24">comment</span><span class="r4"> ─────────────────────────────────────────────╯ </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> ╭─ </span><span class="r7"> </span><span class="r8">alicezou</span><span class="r7"> </span><span class="r14">6d</span><span class="r4"> ────────────────────────────────────────╮ </span><span class="r5">│</span><span class="r4"> </span><span class="r11">╭─ </span><span class="r12">APPROVED </span><span class="r15">sampsyo</span><span class="r12"> </span><span class="r14">6d</span><span class="r11"> ──────────────────────────────────╮</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ Hi Adrian, Thank you for your comments! I have        │ </span><span class="r5">│</span><span class="r4"> </span><span class="r11">│</span><span class="r4"> Looks perfect. Thanks again!!                          </span><span class="r11">│</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ updated the relevant parts.                           │ </span><span class="r5">│</span><span class="r4"> </span><span class="r11">╰─ </span><span class="r25">review</span><span class="r11"> ───────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> ╰─ </span><span class="r24">comment</span><span class="r4"> ─────────────────────────────────────────────╯ </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span></div>
<div><span class="r4">    </span><span class="r27">beets/dbcore/db.py</span><span class="r4">                                       </span><span class="r5">┃</span><span class="r4">    </span><span class="r27">beets/ui/__init__.py</span><span class="r4">                                      </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -901,8 +901,19 @@ class Database:</span><span class="r29">               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -1206,11 +1206,30 @@ def _configure(options):</span><span class="r29">    </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">     data is written in a transaction.</span><span class="r29">             </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">               util.displayable_path(config.config_…</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">     &quot;&quot;&quot;</span><span class="r29">                                           </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">     return config</span><span class="r29">                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    # Check whether parental directories exist.</span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# Check whether parental directories exist.</span><span class="r29">        </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    def _path_checker(self, path):</span><span class="r29">                </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        if not isinstance(path, bytes) and path ==</span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">&#x27;:memory:&#x27;:  # in memory db</span><span class="r29">                        </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+def database_dir_creation(path):</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            return</span><span class="r29">                                </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    # Ask the user for a choice.</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        newpath = os.path.dirname(path)</span><span class="r29">           </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    return input_yn(&quot;The database directory {} does</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        if not os.path.isdir(newpath):</span><span class="r29">            </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">not \</span><span class="r29">                                               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            from beets.ui.commands import </span><span class="r29">        </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                       exists. Create it (Y/n)?&quot;</span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">database_dir_creation</span><span class="r29">                              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            if database_dir_creation(newpath):</span><span class="r29">    </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r14">6d</span><span class="r32"> ───────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                os.makedirs(newpath)</span><span class="r29">              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> exists -&gt; exist                                      </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r32">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-2d</span><span class="r32"> ──────────────────╮</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> It is somewhat unfortunate that this couples the    </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r20">beets.dbcore</span><span class="r4"> and </span><span class="r20">beets.ui</span><span class="r4"> modules, whereas the      </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> former used to be standalone (except for importing  </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r20">beets.util</span><span class="r4">). Would it be possible instead to catch  </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> the exception on missing directory in               </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r20">beets/ui/__init__.py:_open_library()</span><span class="r4">, ask for       </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> creating the directory, and trying to open the      </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> database again afterwards?                          </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4">                                                     </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> Apart from that, a more descriptive name instead    </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r20">_path_checker</span><span class="r4"> what be nice, maybe along the lines   </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> of </span><span class="r20">check_db_directory_exists</span><span class="r4">?                       </span><span class="r32">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">                                                             </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r27">beets/ui/__init__.py</span><span class="r4">                                     </span><span class="r5">│</span><span class="r4">    </span><span class="r27">beets/ui/__init__.py</span><span class="r4">                                      </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -1206,11 +1206,30 @@ def _configure(options):</span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -1206,11 +1206,30 @@ def _configure(options):</span><span class="r29">    </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">               util.displayable_path(config.config…</span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">               util.displayable_path(config.config_…</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">     return config</span><span class="r29">                                 </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">     return config</span><span class="r29">                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# Check whether parental directories exist.</span><span class="r29">       </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# Check whether parental directories exist.</span><span class="r29">        </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+def database_dir_creation(path):</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+def database_dir_creation(path):</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    # Ask the user for a choice.</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    # Ask the user for a choice.</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    return input_yn(&quot;The database directory {} </span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    return input_yn(&quot;The database directory {} does</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">does not \</span><span class="r29">                                         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">not \</span><span class="r29">                                               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                       exists. Create it (Y/n)?&quot;</span><span class="r29">  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                       exists. Create it (Y/n)?&quot;</span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                    </span><span class="r29">                              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                    </span><span class="r29">                               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">.format(util.displayable_path(path)))</span><span class="r29">              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">.format(util.displayable_path(path)))</span><span class="r29">               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r14">6d</span><span class="r32"> ──────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> I suggest just &quot;inlining&quot; this code, since it&#x27;s     </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+def _check_db_directory_exists(path):</span><span class="r29">              </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> pretty simple and not called anywhere else. (That   </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> is, just do this prompting right inside the         </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r14">6d</span><span class="r32"> ───────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> function below instead of having a separate         </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> Maybe should be called </span><span class="r20">_ensure_db_directory_exists</span><span class="r4">   </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> function.)                                          </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> since it does more than just check?                  </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r27">beets/ui/commands.py</span><span class="r4">                                     </span><span class="r5">│</span><span class="r4">    </span><span class="r27">beets/ui/commands.py</span><span class="r4">                                      </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -1398,6 +1398,15 @@ def show_version(lib, opts, </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -1398,6 +1398,16 @@ def show_version(lib, opts, </span><span class="r29"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">args):</span><span class="r29">                                             </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">args):</span><span class="r29">                                              </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> version_cmd.func = show_version</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> version_cmd.func = show_version</span><span class="r29">                    </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> default_commands.append(version_cmd)</span><span class="r29">              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> default_commands.append(version_cmd)</span><span class="r29">               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# database_location: return true if user</span><span class="r29">          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# database_location: return true if user</span><span class="r29">           </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# wants to create the parent directories.</span><span class="r29">         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# wants to create the parent directories.</span><span class="r29">          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+def database_dir_creation(path):</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+def database_dir_creation(path):</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    # Ask the user for a choice.</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    # Ask the user for a choice.</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    return ui.input_yn(&quot;{} does not exist, create </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    return ui.input_yn(&quot;The database directory {} </span><span class="r29"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">it (Y/n)?&quot;</span><span class="r29">                                         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">does not \</span><span class="r29">                                          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+                       exists, create it (Y/n)?&quot;</span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-2d</span><span class="r32"> ──────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> It might be helpful to more explicity describe the  </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-1d</span><span class="r32"> ──────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> issue here; the path alone might not be enough to   </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">┌──────────────────────────────────────────────────┐</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> understand the problem: </span><span class="r20">The database directory {} </span><span class="r4">  </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">                       exists. Create it (Y/n)?&quot;</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r20">does not exists, ...</span><span class="r4">?                               </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">└──────────────────────────────────────────────────┘</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4">                                                      </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> So it&#x27;s two full sentences.                          </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r27">beets/ui/commands.py</span><span class="r4">                                     </span><span class="r5">│</span><span class="r4">    </span><span class="r27">docs/changelog.rst</span><span class="r4">                                        </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -1398,6 +1398,9 @@ def show_version(lib, opts, </span><span class="r29"> </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -7,6 +7,7 @@ Changelog</span><span class="r29">                           </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">args):</span><span class="r29">                                             </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> Changelog goes here!</span><span class="r29">                               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> version_cmd.func = show_version</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> default_commands.append(version_cmd)</span><span class="r29">              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> New features:</span><span class="r29">                                      </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+* Create the parental directories for database if </span><span class="r29"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# database_location: return true if user</span><span class="r29">          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">they do not exist.</span><span class="r29">                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+# wants to create the parent directories.</span><span class="r29">         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-1d</span><span class="r32"> ──────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r14">6d</span><span class="r32"> ──────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">┌──────────────────────────────────────────────────┐</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> This comment looks like it&#x27;s out of date (it can    </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">* Create the parental directories for database  </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> just be deleted).                                   </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">if they do not exist.                           </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">  :bug:`3808` :bug:`4327`                       </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r6">└──────────────────────────────────────────────────┘</span><span class="r4"> </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4">                                                      </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> Including references to where this was discussed.    </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r27">docs/guides/main.rst</span><span class="r4">                                     </span><span class="r5">│</span><span class="r4">    </span><span class="r27">test/test_dbcore.py</span><span class="r4">                                       </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -142,7 +142,8 @@ place to start::</span><span class="r29">               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -760,8 +762,31 @@ def test_no_results(self):</span><span class="r29">     </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">             ModelFixture1, </span><span class="r29">                        </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> Change that first path to a directory where you&#x27;d </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">dbcore.query.FalseQuery()).get())</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">like to keep your music. Then,</span><span class="r29">                     </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> for ``library``, choose a good place to keep a </span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">database file that keeps an index</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+class ParentalDirCreation(unittest.TestCase):</span><span class="r29">      </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r34">-of your music. (The config&#x27;s format is `YAML`_. </span><span class="r29">  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    @mock.patch(&#x27;builtins.input&#x27;, side_effect=[&#x27;y&#x27;,</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r34">You&#x27;ll want to configure your</span><span class="r29">                      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">])</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+of your music. Beets will prompt you if the </span><span class="r29">      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    def test_create_yes(self, _):</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">parental directories for database do</span><span class="r29">               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        non_exist_path = </span><span class="r29">                          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+not exist. (The config&#x27;s format is `YAML`_. You&#x27;ll</span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">&quot;ParentalDirCreationTest/nonexist/&quot; + str(random())</span><span class="r29"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">want to configure your</span><span class="r29">                             </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-2d</span><span class="r32"> ───────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-1d</span><span class="r32"> ─────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> I think this should be using a path within a         </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> TBH I think it&#x27;s probably OK to leave this sentence </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> temporary directory, to be certain that we don&#x27;t     </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> off? This is an edge case, and the prompt clearly   </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> pollute the environment where the test is run.       </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> explains to users what&#x27;s going on, so I don&#x27;t think </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> we need to warn people that this might happen.      </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r32">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r27">test/test_dbcore.py</span><span class="r4">                                      </span><span class="r5">│</span><span class="r4">    </span><span class="r27">test/test_dbcore.py</span><span class="r4">                                       </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -760,8 +762,31 @@ def test_no_results(self):</span><span class="r29">    </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r28">@@ -760,8 +762,31 @@ def test_no_results(self):</span><span class="r29">     </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">             ModelFixture1, </span><span class="r29">                       </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">             ModelFixture1, </span><span class="r29">                        </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">dbcore.query.FalseQuery()).get())</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">dbcore.query.FalseQuery()).get())</span><span class="r29">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30"> </span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+class ParentalDirCreation(unittest.TestCase):</span><span class="r29">     </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+class ParentalDirCreation(unittest.TestCase):</span><span class="r29">      </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    @mock.patch(&#x27;builtins.input&#x27;, </span><span class="r29">                </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    @mock.patch(&#x27;builtins.input&#x27;, side_effect=[&#x27;y&#x27;,</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">side_effect=[&#x27;y&#x27;, ])</span><span class="r29">                               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">])</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    def test_create_yes(self, _):</span><span class="r29">                 </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    def test_create_yes(self, _):</span><span class="r29">                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        non_exist_path = </span><span class="r29">                         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        non_exist_path = </span><span class="r29">                          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">&quot;ParentalDirCreationTest/nonexist/&quot; + str(random())</span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">&quot;ParentalDirCreationTest/nonexist/&quot; + str(random())</span><span class="r29"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        try:</span><span class="r29">                                      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        try:</span><span class="r29">                                       </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            dbcore.Database(non_exist_path)</span><span class="r29">       </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            dbcore.Database(non_exist_path)</span><span class="r29">        </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        except OSError as e:</span><span class="r29">                      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        except OSError as e:</span><span class="r29">                       </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            raise e</span><span class="r29">                               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+            raise e</span><span class="r29">                                </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+        shutil.rmtree(&quot;ParentalDirCreationTest&quot;)</span><span class="r29">   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-2d</span><span class="r32"> ──────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+</span><span class="r29">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> That would behave identically with the </span><span class="r20">try ... </span><span class="r4">     </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">+    @mock.patch(&#x27;builtins.input&#x27;, side_effect=[&#x27;n&#x27;,</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">│</span><span class="r4"> </span><span class="r20">catch</span><span class="r4"> removed, right?                               </span><span class="r32">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r31">])</span><span class="r29">                                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r32">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╭─ </span><span class="r17">CHANGES_REQUESTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-2d</span><span class="r32"> ───────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> It might be easier to use the </span><span class="r20">control_stdin</span><span class="r4"> context  </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> manager from </span><span class="r20">test/helper.py</span><span class="r4"> (see its docstring for   </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">│</span><span class="r4"> details).                                            </span><span class="r32">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">   </span><span class="r32">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r1"></span><span class="r1">                                                                                                                            </span></div>
                    </div>
                </div>
            </div>
        </body>
    </foreignObject>
</svg>
