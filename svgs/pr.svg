<svg width="1767.1999999999998" height="4168" viewBox="0 0 1767.1999999999998 4168"
     xmlns="http://www.w3.org/2000/svg">
    <style>
        @font-face {
            font-family: "Rich Fira Code";
            src: local("FiraCode-Regular"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Regular.woff2") format("woff2"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Regular.woff") format("woff");
            font-style: normal;
            font-weight: 400;
        }
        @font-face {
            font-family: "Rich Fira Code";
            src: local("FiraCode-Bold"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff2/FiraCode-Bold.woff2") format("woff2"),
                 url("https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/woff/FiraCode-Bold.woff") format("woff");
            font-style: bold;
            font-weight: 700;
        }
        .rich-svg-2718868636-terminal-wrapper span {
            display: inline-block;
            white-space: pre;
            vertical-align: top;
            font-size: 18px;
            font-family:'Rich Fira Code','Cascadia Code',Monaco,Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace;
        }
        .rich-svg-2718868636-terminal-wrapper a {
            text-decoration: none;
            color: inherit;
        }
        .rich-svg-2718868636-terminal-body .blink {
           animation: rich-svg-2718868636-blinker 1s infinite;
        }
        @keyframes rich-svg-2718868636-blinker {
            from { opacity: 1.0; }
            50% { opacity: 0.3; }
            to { opacity: 1.0; }
        }
        .rich-svg-2718868636-terminal-wrapper {
            padding: 140px;
            padding-top: 100px;
        }
        .rich-svg-2718868636-terminal {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #0c0c0c;
            border-radius: 14px;
            box-shadow: 0 0 0 1px #484848;
        }
        .rich-svg-2718868636-terminal:after {
            position: absolute;
            width: 100%;
            height: 100%;
            content: '';
            border-radius: 14px;
            background: rgb(71,77,102);
            background: linear-gradient(90deg, #804D69 0%, #4E4B89 100%);
            transform: rotate(-4.5deg);
            z-index: -1;
        }
        .rich-svg-2718868636-terminal-header {
            position: relative;
            width: 100%;
            background-color: #2e2e2e;
            margin-bottom: 12px;
            font-weight: bold;
            border-radius: 14px 14px 0 0;
            color: #f2f2f2;
            font-size: 18px;
            box-shadow: inset 0px -1px 0px 0px #4e4e4e,
                        inset 0px -4px 8px 0px #1a1a1a;
        }
        .rich-svg-2718868636-terminal-title-tab {
            display: inline-block;
            margin-top: 14px;
            margin-left: 124px;
            font-family: sans-serif;
            padding: 14px 28px;
            border-radius: 6px 6px 0 0;
            background-color: #0c0c0c;
            box-shadow: inset 0px 1px 0px 0px #4e4e4e,
                        0px -4px 4px 0px #1e1e1e,
                        inset 1px 0px 0px 0px #4e4e4e,
                        inset -1px 0px 0px 0px #4e4e4e;
        }
        .rich-svg-2718868636-terminal-traffic-lights {
            position: absolute;
            top: 24px;
            left: 20px;
        }
        .rich-svg-2718868636-terminal-body {
            line-height: 22px;
            padding: 14px;
        }
        .rich-svg-2718868636-terminal-body .r1 {color: #f2f2f2; text-decoration-color: #f2f2f2;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r2 {color: #23d18b; text-decoration-color: #23d18b;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r3 {font-weight: bold;color: #f2f2f2; text-decoration-color: #f2f2f2;;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r4 {color: #e5e5e5; text-decoration-color: #e5e5e5;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r5 {color: #212733; text-decoration-color: #212733;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r6 {color: #787878; text-decoration-color: #787878;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r7 {color: #e5e5e5; text-decoration-color: #e5e5e5; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r8 {color: #546d3c; text-decoration-color: #546d3c; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r9 {color: #cd3131; text-decoration-color: #cd3131; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r10 {color: #e5e5e5; text-decoration-color: #e5e5e5; font-weight: bold; text-decoration: underline;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r11 {color: #a7cd81; text-decoration-color: #a7cd81;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r12 {color: #a7cd81; text-decoration-color: #a7cd81; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r13 {color: #ff557f; text-decoration-color: #ff557f; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r14 {color: #0dbc79; text-decoration-color: #0dbc79; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r15 {color: #499dac; text-decoration-color: #499dac; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r16 {color: #9464a5; text-decoration-color: #9464a5; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r17 {color: #8e6ebc; text-decoration-color: #8e6ebc; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r18 {color: #787878; text-decoration-color: #787878; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r19 {color: #e5e5e5; text-decoration-color: #e5e5e5; background-color: #212733}
.rich-svg-2718868636-terminal-body .r20 {color: #ffd787; text-decoration-color: #ffd787; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r21 {color: #7f7f7f; text-decoration-color: #7f7f7f;color: #f2f2f2; text-decoration-color: #f2f2f2;;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r22 {color: #7f7f7f; text-decoration-color: #7f7f7f; font-weight: bold;color: #f2f2f2; text-decoration-color: #f2f2f2;;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r23 {color: #ffd787; text-decoration-color: #ffd787;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r24 {color: #53a4b2; text-decoration-color: #53a4b2; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r25 {color: #9b9c50; text-decoration-color: #9b9c50; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r26 {color: #bc3fbc; text-decoration-color: #bc3fbc; font-weight: bold;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r27 {color: #5bc4bf; text-decoration-color: #5bc4bf; background-color: #0c0c0c; font-weight: bold}
.rich-svg-2718868636-terminal-body .r28 {color: #212733; text-decoration-color: #212733; background-color: #0c0c0c}
.rich-svg-2718868636-terminal-body .r29 {color: #e7e9db; text-decoration-color: #e7e9db; background-color: #0c0c0c}
.rich-svg-2718868636-terminal-body .r30 {color: #48b685; text-decoration-color: #48b685; background-color: #0c0c0c}
.rich-svg-2718868636-terminal-body .r31 {color: #ff557f; text-decoration-color: #ff557f;background-color: #0c0c0c;}
.rich-svg-2718868636-terminal-body .r32 {color: #ef6155; text-decoration-color: #ef6155; background-color: #0c0c0c}
.rich-svg-2718868636-terminal-body .r33 {color: #f8f8f2; text-decoration-color: #f8f8f2; background-color: #272822}
.rich-svg-2718868636-terminal-body .r34 {color: #66d9ef; text-decoration-color: #66d9ef; background-color: #272822}
.rich-svg-2718868636-terminal-body .r35 {color: #f92672; text-decoration-color: #f92672; background-color: #272822}
.rich-svg-2718868636-terminal-body .r36 {color: #e5e5e5; text-decoration-color: #e5e5e5; background-color: #272822}
.rich-svg-2718868636-terminal-body .r37 {color: #e6db74; text-decoration-color: #e6db74; background-color: #272822}
    </style>
    <foreignObject x="0" y="0" width="100%" height="100%">
        <body xmlns="http://www.w3.org/1999/xhtml">
            <div class="rich-svg-2718868636-terminal-wrapper">
                <div class="rich-svg-2718868636-terminal">
                    <div class="rich-svg-2718868636-terminal-header">
                        <svg class="rich-svg-2718868636-terminal-traffic-lights" width="90" height="21" viewBox="0 0 90 21" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="14" cy="8" r="8" fill="#ff6159"/>
                            <circle cx="38" cy="8" r="8" fill="#ffbd2e"/>
                            <circle cx="62" cy="8" r="8" fill="#28c941"/>
                        </svg>
                        <div class="rich-svg-2718868636-terminal-title-tab">Rich</div>
                    </div>
                    <div class="rich-svg-2718868636-terminal-body">
                        <div><span class="r1"></span><span class="r1">                                                                                                                            </span></div>
<div><span class="r2">────────────────────────────── </span><span class="r3">Ability to optionally disable the musicbrainz metadata source</span><span class="r2"> ───────────────────────────────</span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">╭───────────────────────────────────────────────────────────────────╮</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">author</span><span class="r4">         </span><span class="r5">┃</span><span class="r4"> </span><span class="r8">snejus</span><span class="r4">                         </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">createdAt</span><span class="r4">      </span><span class="r5">│</span><span class="r4"> </span><span class="r9">-16d</span><span class="r4">                           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                            </span><span class="r10">Description</span><span class="r4">                            </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">diff</span><span class="r4">           </span><span class="r5">│</span><span class="r4"> </span><span class="r11">+</span><span class="r12">35</span><span class="r4"> </span><span class="r13">-22</span><span class="r4">                        </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">isReadByViewer</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r14">True</span><span class="r4">                           </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> Fixes #400.  &lt;!-- Insert issue number here if applicable. --&gt;     </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">participants</span><span class="r4">   </span><span class="r5">│</span><span class="r4"> </span><span class="r8">snejus</span><span class="r4">  </span><span class="r15">sampsyo</span><span class="r4">  </span><span class="r16">wisp3rwind</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> Related to #2686                                                  </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">repository</span><span class="r4">     </span><span class="r5">│</span><span class="r4"> beets                          </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">reviewDecision</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r12">APPROVED</span><span class="r4">                       </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> As I mentioned in                                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">state</span><span class="r4">          </span><span class="r5">│</span><span class="r4"> </span><span class="r17">MERGED</span><span class="r4">                         </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> https://github.com/beetbox/beets/issues/400#issuecomment-1067666… </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">    </span><span class="r7">updatedAt</span><span class="r4">      </span><span class="r5">│</span><span class="r4"> </span><span class="r9">-7d</span><span class="r4">                            </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> this adds a patch that allows to disable the MusicBrainz metadata </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">╭─ </span><span class="r18">files</span><span class="r6"> ───────────────────────────────────╮</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> source during the import process.                                 </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">  </span><span class="r14">-21</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> </span><span class="r9">-22</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> </span><span class="r7">beets/autotag/hooks.py</span><span class="r4">     </span><span class="r6">│</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">   </span><span class="r14">-1</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r9">   </span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r7">beets/config_default.yaml</span><span class="r4">  </span><span class="r6">│</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> I had a little go at making the </span><span class="r19">MusicBrainz Options</span><span class="r4"> section in    </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">   </span><span class="r14">-2</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r9">   </span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r7">docs/changelog.rst</span><span class="r4">         </span><span class="r6">│</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> the docs a little bit more consistent, and copied over the entire </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">│</span><span class="r4">  </span><span class="r14">  </span><span class="r14">-11</span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r9">   </span><span class="r4"> </span><span class="r5">│</span><span class="r4"> </span><span class="r7">docs/reference/config.rst</span><span class="r4">  </span><span class="r6">│</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> default config section for clarity.                               </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">   </span><span class="r6">╰───────────────────────────────────────────╯</span><span class="r4">    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                               </span><span class="r10">To Do</span><span class="r4">                               </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4">                                                                   </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r20"> • </span><span class="r4">[x] Documentation. (If you&#x27;ve add a new command-line flag, for </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r20">   </span><span class="r4">example, find the appropriate page under </span><span class="r19">docs/</span><span class="r4"> to describe     </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r20">   </span><span class="r4">it.)                                                           </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r20"> • </span><span class="r4">[x] Changelog. (Add an entry to </span><span class="r19">docs/changelog.rst</span><span class="r4"> near the    </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r20">   </span><span class="r4">top of the document.)                                          </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r20"> • </span><span class="r4">[ ] Tests. (Encouraged but not strictly required.)             </span><span class="r6">│</span><span class="r4"> </span></div>
<div><span class="r4">                                                    </span><span class="r5">┃</span><span class="r4"> </span><span class="r6">╰───────────────────────────────────────────────────────────────────╯</span><span class="r4"> </span></div>
<div><span class="r21">╭─ </span><span class="r22">Reviews &amp; Comments</span><span class="r21"> ─────────────────────────────────────────────────────────────────────────────────────────────────────╮</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">╭─ </span><span class="r20">COMMENTED </span><span class="r15">sampsyo</span><span class="r20"> </span><span class="r9">-15d</span><span class="r23"> ──────────────────────────────╮</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> ╭─ </span><span class="r7"> </span><span class="r8">snejus</span><span class="r7"> </span><span class="r9">-14d</span><span class="r4"> ─────────────────────────────────────────╮ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> Awesome; thanks for getting this started! I actually  </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> │ I do agree, will add the logic to </span><span class="r19">hooks.py</span><span class="r4"> in a        │ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> think that it might be a little cleaner to handle     </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> │ second.                                                │ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> this disabling in the </span><span class="r19">beets.autotag.hooks</span><span class="r4"> module,     </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4"> ╰─ </span><span class="r24">comment</span><span class="r4"> ──────────────────────────────────────────────╯ </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> which is the &quot;dispatcher&quot; that aggregates results     </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> from multiple sources. For example, this is the line  </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> that asks MB for matches:                             </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> https://github.com/beetbox/beets/blob/3f6da68af2444b… </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4">                                                       </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> Maybe it would make a little more sense to skip those </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">│</span><span class="r4"> calls there, rather than having them all return None? </span><span class="r23">│</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r23">╰─ </span><span class="r25">review</span><span class="r23"> ──────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r5">┃</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> ╭─ </span><span class="r7"> </span><span class="r8">snejus</span><span class="r7"> </span><span class="r9">-13d</span><span class="r4"> ────────────────────────────────────────╮ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">╭─ </span><span class="r20">COMMENTED </span><span class="r15">sampsyo</span><span class="r20"> </span><span class="r9">-12d</span><span class="r23"> ───────────────────────────────╮</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ It did end up being cleaner once the error handling   │ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">│</span><span class="r4"> Nice; looking good overall! I have a few low-level     </span><span class="r23">│</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> │ logic got abstracted away.                            │ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">│</span><span class="r4"> suggestions.                                           </span><span class="r23">│</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> ╰─ </span><span class="r24">comment</span><span class="r4"> ─────────────────────────────────────────────╯ </span><span class="r5">│</span><span class="r4"> </span><span class="r23">╰─ </span><span class="r25">review</span><span class="r23"> ───────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r11">╭─ </span><span class="r12">APPROVED </span><span class="r15">sampsyo</span><span class="r12"> </span><span class="r9">-8d</span><span class="r11"> ────────────────────────────────╮</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r11">│</span><span class="r4"> Looks great to me; thank you for your attention to    </span><span class="r11">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r11">│</span><span class="r4"> detail here! 😃                                       </span><span class="r11">│</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">│</span><span class="r1"> </span><span class="r4"> </span><span class="r11">╰─ </span><span class="r25">review</span><span class="r11"> ──────────────────────────────────────────────╯</span><span class="r4"> </span><span class="r5">│</span><span class="r4">                                                            </span><span class="r1"> </span><span class="r21">│</span></div>
<div><span class="r21">╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯</span></div>
<div><span class="r4">    </span><span class="r26">beets/autotag/hooks.py</span><span class="r4">                                   </span><span class="r5">┃</span><span class="r4">    </span><span class="r26">beets/autotag/hooks.py</span><span class="r4">                                    </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -598,6 +598,16 @@ def tracks_for_id(track_id):</span><span class="r28">  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -598,6 +598,16 @@ def tracks_for_id(track_id):</span><span class="r28">   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">             yield t</span><span class="r28">                               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">             yield t</span><span class="r28">                                </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+def invoke_mb(call_func, *args):</span><span class="r28">                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+def invoke_mb(call_func, *args):</span><span class="r28">                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    if not config[&quot;musicbrainz&quot;][&quot;enabled&quot;]:</span><span class="r28">      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    if not config[&quot;musicbrainz&quot;][&quot;enabled&quot;]:</span><span class="r28">       </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+        return ()</span><span class="r28">                                 </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+        return ()</span><span class="r28">                                  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+</span><span class="r28">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-12d</span><span class="r31"> ────────────────────────────╮</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    try:</span><span class="r28">                                           </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> I do sort of like @wisp3rwind&#x27;s suggestion to       </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+        return call_func(*args)</span><span class="r28">                    </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> consider moving this out of the </span><span class="r19">invoke_mb</span><span class="r4">           </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    except mb.MusicBrainzAPIError as exc:</span><span class="r28">          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> utility—it might make it a little clearer what&#x27;s    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+        exc.log(log)</span><span class="r28">                               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> going on!                                           </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">╭─ </span><span class="r20">COMMENTED </span><span class="r15">sampsyo</span><span class="r20"> </span><span class="r9">-12d</span><span class="r23"> ─────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-11d</span><span class="r31"> ─────────────────────────╮</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">│</span><span class="r4"> I think this might cause a crash when an exception   </span><span class="r23">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> I think I&#x27;m also fine with the current version      </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">│</span><span class="r4"> occurs. Namely, it seems like this function needs to </span><span class="r23">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> (renamed to </span><span class="r19">invoke_mb</span><span class="r4">); I was mostly concerned      </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">│</span><span class="r4"> return an iterable, right? So I think this exception </span><span class="r23">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> about </span><span class="r19">handle_exc</span><span class="r4"> being actively misleading since it </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">│</span><span class="r4"> handler should probably </span><span class="r19">return ()</span><span class="r4"> or similar…        </span><span class="r23">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> does more than handling exceptions. So, from my     </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> side, I&#x27;d say it&#x27;s up to you @snejus which variant  </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">╭─ </span><span class="r20">COMMENTED </span><span class="r16">wisp3rwind</span><span class="r20"> </span><span class="r9">-11d</span><span class="r23"> ──────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> you prefer.                                         </span><span class="r31">│</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">│</span><span class="r4"> Nice catch! Yes, I&#x27;d suspect the same.               </span><span class="r23">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">╭─ </span><span class="r20">COMMENTED </span><span class="r8">snejus</span><span class="r20"> </span><span class="r9">-8d</span><span class="r23"> ───────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">│</span><span class="r4"> Well caught! Fixed in e1ffadb2                       </span><span class="r23">│</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">┃</span><span class="r4">   </span><span class="r23">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">                                                             </span><span class="r5">┃</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r26">beets/autotag/hooks.py</span><span class="r4">                                   </span><span class="r5">│</span><span class="r4">    </span><span class="r26">beets/autotag/hooks.py</span><span class="r4">                                    </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -609,25 +619,17 @@ def album_candidates(items, </span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -609,25 +619,17 @@ def album_candidates(items, </span><span class="r28">  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r27">artist, album, va_likely, extra_tags):</span><span class="r28">             </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r27">artist, album, va_likely, extra_tags):</span><span class="r28">              </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">     constrain the search.</span><span class="r28">                         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     constrain the search.</span><span class="r28">                          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">     &quot;&quot;&quot;</span><span class="r28">                                           </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     &quot;&quot;&quot;</span><span class="r28">                                            </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    common_args = [album, len(items), extra_tags]</span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    common_args = [album, len(items), extra_tags]</span><span class="r28">  </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     # Base candidates if we have album and artist </span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-12d</span><span class="r31"> ────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">to match.</span><span class="r28">                                           </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> I know this might be bikeshedding, but I actually   </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     if artist and album:</span><span class="r28">                           </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> think the repetition (passing the same set of       </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> arguments to the two calls to </span><span class="r19">mb.match_album</span><span class="r4">) is a  </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-12d</span><span class="r31"> ─────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> little more intelligible.                           </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> This stanza and the next could share a single </span><span class="r19">if </span><span class="r4">    </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r19">config[&quot;musicbrainz&quot;][&quot;enabled&quot;]:</span><span class="r4">.                   </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r8">snejus</span><span class="r13"> </span><span class="r9">-8d</span><span class="r31"> ──────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> True. I must admit I sometimes treat the maximum    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> line length a bit too religiously and adjust the    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> code accordingly ... in unconventional ways 😆      </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r26">beets/autotag/hooks.py</span><span class="r4">                                   </span><span class="r5">│</span><span class="r4">    </span><span class="r26">beets/autotag/mb.py</span><span class="r4">                                       </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -609,25 +619,17 @@ def album_candidates(items, </span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -482,6 +482,9 @@ def match_album(artist, album, </span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r27">artist, album, va_likely, extra_tags):</span><span class="r28">             </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r27">tracks=None, extra_tags=None):</span><span class="r28">                      </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">     constrain the search.</span><span class="r28">                         </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     The query consists of an artist name, an album </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">     &quot;&quot;&quot;</span><span class="r28">                                           </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">name, and,</span><span class="r28">                                          </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     optionally, a number of tracks on the album and</span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    common_args = [album, len(items), extra_tags]</span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">any other extra tags.</span><span class="r28">                               </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">     # Base candidates if we have album and artist </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29">     &quot;&quot;&quot;</span><span class="r28">                                            </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">to match.</span><span class="r28">                                          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+    if not </span><span class="r28">                                        </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29">     if artist and album:</span><span class="r28">                          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">config[&quot;musicbrainz&quot;][&quot;enabled&quot;].get(bool):</span><span class="r28">         </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r32">-        try:</span><span class="r28">                                      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r32">-            yield from mb.match_album(artist, </span><span class="r28">    </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-15d</span><span class="r31"> ─────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r32">album, len(items),</span><span class="r28">                                 </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> The </span><span class="r19">.get(bool)</span><span class="r4"> bit here is actually unnecessary;     </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r32">-                                      extra_tags)</span><span class="r28"> </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> using this in an </span><span class="r19">if</span><span class="r4"> does that automatically.         </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r32">-        except mb.MusicBrainzAPIError as exc:</span><span class="r28">     </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r32">-            exc.log(log)</span><span class="r28">                          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r8">snejus</span><span class="r13"> </span><span class="r9">-14d</span><span class="r31"> ──────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+        yield from handle_exc(mb.match_album, </span><span class="r28">    </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> That&#x27;s helpful, thanks!                              </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">artist, *common_args)</span><span class="r28">                              </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r16">wisp3rwind</span><span class="r13"> </span><span class="r9">-13d</span><span class="r31"> ─────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> In my opinion, this pattern would be much more      </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> readable as                                         </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4">                                                     </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r6">┌─────────────────────────────────────────────────┐</span><span class="r4"> </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">    </span><span class="r34">if</span><span class="r33"> artist </span><span class="r35">and</span><span class="r33"> album </span><span class="r35">and</span><span class="r33"> </span><span class="r36">                   </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">config[</span><span class="r37">&quot;musicbrainz&quot;</span><span class="r33">][</span><span class="r37">&quot;enabled&quot;</span><span class="r33">]:</span><span class="r36">              </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">        </span><span class="r34">yield from</span><span class="r33"> handle_exc(mb</span><span class="r35">.</span><span class="r33">match_album, </span><span class="r36"> </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r33">artist, </span><span class="r35">*</span><span class="r33">common_args)</span><span class="r36">                          </span><span class="r4"> </span><span class="r6">│</span><span class="r4"> </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r6">└─────────────────────────────────────────────────┘</span><span class="r4"> </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4">                                                     </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> with the check for MB being enabled removed from    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r19">handle_exc</span><span class="r4">. This would separate exception handling  </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> and checking whether to query musicbrainz somewhat  </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> more cleanly.                                       </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4">                                                     </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> If not going this way, renaming </span><span class="r19">handle_exc</span><span class="r4"> -&gt;       </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> </span><span class="r19">invoke_mb</span><span class="r4"> or similar would also help.               </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r8">snejus</span><span class="r13"> </span><span class="r9">-13d</span><span class="r31"> ─────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> Good point, @wisp3rwind. I&#x27;ve just renamed the      </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> function to </span><span class="r19">invoke_mb</span><span class="r4">                               </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">    </span><span class="r26">docs/reference/config.rst</span><span class="r4">                                </span><span class="r5">│</span><span class="r4">    </span><span class="r26">docs/reference/config.rst</span><span class="r4">                                 </span></div>
<div><span class="r4">   </span><span class="r5">╭─────────────────────────────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╭──────────────────────────────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -716,6 +716,17 @@ Default: ``{}`` (empty).</span><span class="r28">      </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r27">@@ -716,6 +716,39 @@ Default: ``{}`` (empty).</span><span class="r28">       </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> MusicBrainz Options</span><span class="r28">                               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29"> MusicBrainz Options</span><span class="r28">                                </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> -------------------</span><span class="r28">                               </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29"> -------------------</span><span class="r28">                                </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r29"> </span><span class="r28">                                                   </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+.. _musicbrainz.enabled:</span><span class="r28">                          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">│ </span><span class="r30">+Default configuration::</span><span class="r28">                            </span><span class="r5"> │</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+</span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r5">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+enabled</span><span class="r28">                                           </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-15d</span><span class="r31"> ─────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+~~~~~~~</span><span class="r28">                                           </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> Just for my own sanity, could we keep this PR&#x27;s docs </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+</span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> changes focused on the new option? Some refactoring, </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+This option allows you to disable using </span><span class="r28">          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> reordering, and adding examples would be nice too,   </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">MusicBrainz as a metadata source. This applies</span><span class="r28">     </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> but it will be easier to think about in a separate   </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+if you use plugins that fetch data from </span><span class="r28">          </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> PR. Thank you!                                       </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">alternative sources and should make the import</span><span class="r28">     </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+process quicker.</span><span class="r28">                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r8">snejus</span><span class="r13"> </span><span class="r9">-14d</span><span class="r31"> ──────────────────────────────╮</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+</span><span class="r28">                                                  </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">│</span><span class="r4"> Of course, I&#x27;ll move them out to another branch!     </span><span class="r31">│</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">│ </span><span class="r30">+Default: ``yes``.</span><span class="r28">                                 </span><span class="r5"> │</span><span class="r4">   </span><span class="r5">│</span><span class="r4">   </span><span class="r31">╰──────────────────────────────────────────────────────╯</span><span class="r4">   </span></div>
<div><span class="r4">   </span><span class="r5">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r15">sampsyo</span><span class="r13"> </span><span class="r9">-12d</span><span class="r31"> ────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> I think this documentation stuff might be out of    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> order—it makes the &quot;top-level&quot; description below    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> appear to be part of the &quot;enabled&quot; subsection. I    </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> think this should appear among the other            </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> subsections below (which start with &quot;searchlimit&quot;). </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╭─ </span><span class="r20">COMMENTED</span><span class="r13"> </span><span class="r8">snejus</span><span class="r13"> </span><span class="r9">-8d</span><span class="r31"> ──────────────────────────────╮</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">│</span><span class="r4"> Agree - have moved it below.                        </span><span class="r31">│</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">   </span><span class="r31">╰─────────────────────────────────────────────────────╯</span><span class="r4">   </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r4">                                                             </span><span class="r5">│</span><span class="r4">                                                              </span></div>
<div><span class="r1"></span><span class="r1">                                                                                                                            </span></div>
                    </div>
                </div>
            </div>
        </body>
    </foreignObject>
</svg>
