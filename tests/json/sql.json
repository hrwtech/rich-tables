{
  "sql": "  SELECT\n       category,\n      SUM(round(endtime / CAST(1000000000 AS REAL) - starttime / CAST(1000000000 AS REAL), 3)) AS total_duration\n    FROM (\n      SELECT * FROM (\n        (\n    SELECT event, name AS category\n    FROM category_event\n    JOIN category ON category = cat_id\n  )\n        LEFT JOIN (\n    SELECT\n    replace(\n      replace(\n        title,\n        ' - qutebrowser',\n        ''\n      ),\n      '/home/sarunas/.zsh',\n      'snejus/.configs ~ data ~ zsh'\n    ) AS title, app, data, starttime, endtime, id\n    FROM events\n\n  )\n        ON id = event\n      )\n      GROUP BY starttime\n    )\n    WHERE app != 'not-afk' AND (starttime / 1000000000) > CAST(strftime('%s', 'now', 'localtime', 'start of day') AS INTEGER) AND (starttime / 1000000000) < CAST(strftime('%s', 'now', 'localtime', '0 day') AS INTEGER)\n    GROUP BY  category\n    ORDER BY SUM(round(endtime / CAST(1000000000 AS REAL) - starttime / CAST(1000000000 AS REAL), 3))\n"
}
